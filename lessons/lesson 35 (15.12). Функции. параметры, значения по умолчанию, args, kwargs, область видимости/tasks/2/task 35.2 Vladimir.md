# Практическое задание 35.2

Это задание относится ко второму блоку урока, посвященному управлению аргументами. В предыдущем блоке вы научились объявлять функции, передавать аргументы и возвращать значения. Сейчас мы сосредоточимся на использовании значений по умолчанию для параметров, включая безопасную работу с изменяемыми типами данных, и закрепим правила порядка передачи позиционных и именованных аргументов. Это подводит к пониманию, как функции могут быть гибкими и надежными.

## Задания

### Описание задачи
Владимир, ты разрабатываешь модуль для управления списком задач в простом приложении-планировщике. Основная функция `add_task` должна добавлять новую задачу в общий список. Однако, пользователи могут вызывать эту функцию по-разному: указывать только название задачи, а также добавлять описание, теги и указывать, является ли задача срочной.

Твоя цель — реализовать функцию `add_task`, которая корректно обрабатывает все варианты вызова, избегая распространенной ошибки с изменяемым значением по умолчанию, и следует правилам порядка аргументов.

**Требования к функции `add_task`:**

1.  **Параметры:**
    *   `task_list` (обязательный, позиционный): Список, в который добавляется задача. Каждая задача представляется словарем.
    *   `title` (обязательный, позиционный): Название задачи (строка).
    *   `description` (необязательный, именованный): Описание задачи. Значение по умолчанию — пустая строка `""`.
    *   `tags` (необязательный, именованный): Список тегов (строк) для задачи. **Внимание:** Это изменяемый объект. Необходимо использовать безопасный паттерн со значением по умолчанию `None`.
    *   `is_urgent` (необязательный, именованный): Флаг срочности задачи. Значение по умолчанию — `False`.

2.  **Логика работы:**
    *   Функция создает словарь задачи со следующими ключами: `"title"`, `"description"`, `"tags"`, `"is_urgent"`.
    *   Если параметр `tags` не был передан (остался `None`), в словарь задачи должен быть записан пустой список `[]`.
    *   Словарь задачи добавляется в конец списка `task_list`.
    *   Функция должна возвращать обновленный список `task_list`.

3.  **Порядок аргументов:** При вызове функции позиционные аргументы (`task_list`, `title`) должны идти перед именованными (`description`, `tags`, `is_urgent`).

### Пример входных и выходных данных

**Пример 1: Базовый вызов**
```python
my_tasks = []
result = add_task(my_tasks, "Купить молоко")
print(result)
# Ожидаемый вывод: [{'title': 'Купить молоко', 'description': '', 'tags': [], 'is_urgent': False}]
# Пояснение: Переданы только обязательные аргументы. `description` и `is_urgent` взяты по умолчанию.
# Для `tags` сработал None-паттерн, и в задачу записан пустой список.
```

**Пример 2: Вызов со всеми аргументами (включая именованные)**
```python
my_tasks = []
result = add_task(my_tasks,
                  "Подготовить отчет",
                  description="Сводка за квартал",
                  tags=["работа", "финансы"],
                  is_urgent=True)
print(result)
# Ожидаемый вывод: [{'title': 'Подготовить отчет', 'description': 'Сводка за квартал', 'tags': ['работа', 'финансы'], 'is_urgent': True}]
# Пояснение: Все параметры переданы явно. `tags` передан как список, он и записывается в задачу.
```

**Пример 3: Проверка на ловушку изменяемого объекта**
```python
list_a = []
list_b = []

# Два независимых вызова
add_task(list_a, "Задача A", tags=["важное"])
add_task(list_b, "Задача B")

print("List A:", list_a)
print("List B:", list_b)
# Ожидаемый вывод:
# List A: [{'title': 'Задача A', 'description': '', 'tags': ['важное'], 'is_urgent': False}]
# List B: [{'title': 'Задача B', 'description': '', 'tags': [], 'is_urgent': False}]
# Пояснение: Тег "важное" должен быть только в первой задаче списка A.
# Во второй задаче (список B) поле `tags` должно быть пустым списком, а не списком ['важное'].
# Если бы использовалось `tags=[]` как значение по умолчанию, это привело бы к ошибке.
```

### Критерии проверки и ограничения
1.  Функция `add_task` реализована в точном соответствии с требованиями.
2.  Используется безопасный паттерн (None-паттерн) для параметра `tags` с изменяемым типом данных по умолчанию.
3.  Соблюден правильный порядок параметров: сначала обязательные позиционные, затем необязательные с значениями по умолчанию.
4.  Функция корректно работает во всех приведенных примерах.
5.  **Запрещено использовать:** `*args`, `**kwargs`, распаковку, кортежи и словари для сбора аргументов, а также любые темы, связанные с областью видимости (`global`, замыкания).

### Решение задачи (псевдокод)
1.  Объяви функцию `add_task` с параметрами: `task_list`, `title`, `description` (по умолчанию пустая строка), `tags` (по умолчанию `None`), `is_urgent` (по умолчанию `False`).
2.  Внутри функции:
    a.  Создай пустой словарь `new_task`.
    b.  Запиши в `new_task` по ключу `"title"` значение параметра `title`.
    c.  Запиши в `new_task` по ключу `"description"` значение параметра `description`.
    d.  **Для ключа `"tags"`:** Проверь, равен ли параметр `tags` значению `None`.
        *   Если ДА, запиши в `new_task` по ключу `"tags"` новый пустой список `[]`.
        *   Если НЕТ, запиши в `new_task` по ключу `"tags"` значение параметра `tags`.
    e.  Запиши в `new_task` по ключу `"is_urgent"` значение параметра `is_urgent`.
    f.  Добавь словарь `new_task` в конец списка `task_list` (используй метод `.append()`).
    g.  Верни список `task_list` как результат функции.

### Рекомендации
-   **Вынести в отдельную функцию:** В данной задаче логика создания словаря задачи (`new_task`) является четко выделенной подзадачей. Хотя она небольшая, для лучшей читаемости и потенциального повторного использования можно создать вспомогательную функцию `create_task_dict(title, description="", tags=None, is_urgent=False)`, которая будет возвращать этот словарь. Тогда основная функция `add_task` будет вызывать эту вспомогательную и добавлять ее результат в список.
-   **PEP8:**
    -   Следи за отступами в 4 пробела для тела функции.
    -   Именуй параметры и переменные в `snake_case` (например, `task_list`, `is_urgent`).
