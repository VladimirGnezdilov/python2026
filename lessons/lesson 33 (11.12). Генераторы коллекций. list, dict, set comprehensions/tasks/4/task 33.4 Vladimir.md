# Задание 33.4. Генераторы коллекций. list, dict, set comprehensions

## Блок урока
«Set comprehensions» позволяет гибко комбинировать фильтрацию и извлечение уникальных значений, что полезно при анализе инфраструктурных данных.

## Условие задачи
**Сложность**: <span style="color: #c62828">● сложный</span>. примерное время: 15–20 минут

Есть список `checks`, где каждый элемент — словарь:
- `"cluster"`: имя кластера
- `"nodes"`: список кортежей `(host, role)`
- `"alerts"`: список словарей `{ "host": str, "severity": str }`

Построй одним set comprehension множество `critical_hosts`, куда войдут имена хостов, у которых есть алерт с `severity == "critical"`, и которые присутствуют в исходном списке `nodes` данного кластера. Хост должен добавляться в множество ровно один раз, даже если алертов несколько.

## Пример входных данных
```
checks = [
    {
        "cluster": "core",
        "nodes": [("core-1", "master"), ("core-2", "worker")],
        "alerts": [
            {"host": "core-1", "severity": "critical"},
            {"host": "core-3", "severity": "warning"}
        ]
    },
    {
        "cluster": "edge",
        "nodes": [("edge-1", "worker"), ("edge-2", "worker")],
        "alerts": [
            {"host": "edge-2", "severity": "critical"}
        ]
    }
]
```

## Пример выходных данных
```
{'core-1', 'edge-2'}
```

## Критерии успешного выполнения
- Множество `critical_hosts` формируется единственным set comprehension.
- В него попадают только хосты, перечисленные в `nodes` соответствующего кластера.
- Учитываются только алерты с `severity == "critical"`.
- Исходный список `checks` не изменяется.

## Подсказки
- Подготавливай множество узлов кластера внутри comprehension через `set(host for host, _ in cluster["nodes"])`.
- Используй вложенный проход `for alert in cluster["alerts"]` внутри comprehension.
- Сравнивай строгое равенство строки `"critical"`.

## Частые ошибки и ограничения
- Не оборачивай comprehension в `set()` и не используй `add` в цикле.
- Убедись, что проверяешь присутствие хоста в `nodes` до добавления.
- В списках не превышай пять пунктов.
